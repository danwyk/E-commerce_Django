{% extends 'core/base.html' %}


{% block title %}
    Dashboard
{% endblock%}


{% block content %}

<div class='mt-6 px-6 py-12 bg-gray-100 rounded-xl'>
    <h2 class='mb-12 text-2xl text-center'> My items </h2>

    {% comment %} 这里需要提供 item/ 的 url，然后要 call 的 function item:detail, 和最后的 primary key 也就是 item.id  {% endcomment %}
    <div class='grid grid-cols-3 gap-3'>
        {% if items %}
            {% for item in items %}
                <div> 
                    <a href="{% url 'item:detail' item.id %}">
                        <div>
                            <img src='{{item.image.url}}' class='max-h-fit'>
                        </div>
                        
                        <div class='p-6 bg-white rounded-xl'>
                            <h2 class='text-xl'>{{item.name}}</h2>
                            <p class='text-gray-500'><strong>Price: </strong> {{ item.price }} $</p>
                        </div>
                    </a>
                </div>
            {% endfor %}
        {% endif %}
    </div>
</div>


<div class='mt-6 px-6 py-12 bg-gray-100 rounded-xl'>
    <h2 class='mb-12 text-2xl text-center'>Categories</h2>

    {% comment %} 这里需要提供 item/ 的 url，然后要 call 的 function item:detail, 和最后的 primary key 也就是 item.id  {% endcomment %}
    <div class='grid grid-cols-3 gap-3'>
        {% if itemCategories %}

             {% for key, val in itemCategories.items %}
                    <div> 
                        <a href="#">
                                <div class='p-6 bg-white rounded-xl'>
                                    <h2 class='text-xl'>{{key}}</h2>
                                    <p class='text-gray-500'>{{val}} items</p>
                                </div>
                        </a>
                    </div>
                {% endfor%}

        {% endif %}
    </div>
</div>

{% endblock %}
 